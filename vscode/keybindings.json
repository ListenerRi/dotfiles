// Place your key bindings in this file to override the defaultsauto[]
[
    // 当焦点在侧栏时按 esc 回到编辑器
    {
        "key": "escape",
        "command": "workbench.action.focusActiveEditorGroup",
        "when": "sideBarFocus"
    },
    // 当焦点在 Panel(Output/Terminal) 时按 esc 回到编辑器
    {
        "key": "escape",
        "command": "workbench.action.focusActiveEditorGroup",
        "when": "panelFocus"
    },
    // 当焦点不在 Panel 且 Panel 正在显示时按 esc 关闭 Panel
    {
        "key": "escape",
        "command": "workbench.action.closePanel",
        "when": "!panelFocus && activePanel == 'workbench.panel.markers'"
    },
    {
        "key": "escape",
        "command": "workbench.action.closePanel",
        "when": "!panelFocus && activePanel == 'workbench.panel.output'"
    },
    {
        "key": "escape",
        "command": "workbench.action.closePanel",
        "when": "!panelFocus && activePanel == 'workbench.panel.repl'"
    },
    {
        "key": "escape",
        "command": "workbench.action.closePanel",
        "when": "!panelFocus && activePanel == 'workbench.panel.terminal'"
    },
    {
        "key": "escape",
        "command": "workbench.action.closePanel",
        "when": "!panelFocus && activePanel == 'workbench.panel.comments'"
    },
    {
        "key": "escape",
        "command": "workbench.action.closePanel",
        "when": "!panelFocus && activeViewlet == 'workbench.view.search'"
    },
    // 禁用 cmake-tools 提供的快捷键, 其影响了 vscode 原有的功能
    {
        "key": "shift+f5",
        "command": "-cmake.launchTarget"
    },
    {
        "key": "ctrl+f5",
        "command": "-cmake.debugTarget",
        "when": "!inDebugMode"
    },
    // 设置 f5 为 start without debugging
    // 设置 ctrl+f5 为 start debugging (交换默认快捷键功能)
    {
        "key": "f5",
        "command": "workbench.action.debug.run",
        "when": "!inDebugMode"
    },
    {
        "key": "ctrl+f5",
        "command": "workbench.action.debug.start",
        "when": "!inDebugMode"
    },
    // 不再使用 "alt + o" 而是使用 "f4" 来
    // 切换 c/cpp header and source file
    {
        "key": "alt+o",
        "command": "-C_Cpp.SwitchHeaderSource",
        "when": "editorTextFocus && editorLangId == 'c'"
    },
    {
        "key": "alt+o",
        "command": "-C_Cpp.SwitchHeaderSource",
        "when": "editorTextFocus && editorLangId == 'cpp'"
    },
    {
        "key": "f4",
        "command": "C_Cpp.SwitchHeaderSource",
        "when": "editorTextFocus && editorLangId == 'c'"
    },
    {
        "key": "f4",
        "command": "C_Cpp.SwitchHeaderSource",
        "when": "editorTextFocus && editorLangId == 'cpp'"
    },
]
